<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Kitchensink</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" th:href="@{/css/screen.css}" />
</head>
<body>
    <div id="container">
        <div class="dualbrand">
            <img th:src="@{/images/rhjb_eap_logo.png}" width="300" height="175" />
        </div>
        <div id="content">
            <h1>Welcome to Spring Boot!</h1>
            
            <div th:if="${message}" class="messages valid" th:text="${message}"></div>
            <div th:if="${error}" class="messages invalid" th:text="${error}"></div>
            
            <form th:action="@{/members}" method="post">
                <h2>Member Registration</h2>
                <p>Enforces annotation-based constraints defined on the model class.</p>
                
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" />
                    <span th:if="${#fields.hasErrors('member.name')}" class="invalid" 
                          th:errors="${member.name}">Name Error</span>
                </div>

                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" />
                    <span th:if="${#fields.hasErrors('member.email')}" class="invalid" 
                          th:errors="${member.email}">Email Error</span>
                </div>

                <div class="form-group">
                    <label for="phoneNumber">Phone #:</label>
                    <input type="text" id="phoneNumber" name="phoneNumber" />
                    <span th:if="${#fields.hasErrors('member.phoneNumber')}" class="invalid" 
                          th:errors="${member.phoneNumber}">Phone Error</span>
                </div>

                <input type="submit" value="Register" class="register"/>
            </form>

            <h2>Members</h2>
            <div th:if="${#lists.isEmpty(members)}">
                <em>No registered members.</em>
            </div>
            
            <table th:if="${not #lists.isEmpty(members)}" class="simpletablestyle">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone #</th>
                        <th>REST URL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="member : ${members}">
                        <td th:text="${member.id}">Id</td>
                        <td th:text="${member.name}">Name</td>
                        <td th:text="${member.email}">Email</td>
                        <td th:text="${member.phoneNumber}">Phone</td>
                        <td>
                            <a th:href="@{/rest/members/{id}(id=${member.id})}">/rest/members/[[${member.id}]]</a>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="5">
                            REST URL for all members: <a th:href="@{/rest/members}">/rest/members</a>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
        
        <div id="aside">
            <p>Learn more about Spring Boot.</p>
            <ul>
                <li><a href="https://spring.io/projects/spring-boot">Documentation</a></li>
                <li><a href="https://spring.io/">Product Information</a></li>
            </ul>
        </div>
    </div>
</body>
</html> 